<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>oil storage dynamics at kharg export terminal</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
body {
  margin:0;
  background:#0f172a;
  color:#e2e8f0;
  font-family: system-ui, -apple-system, sans-serif;
}
.container {
  max-width:1100px;
  margin:60px auto;
  padding:0 20px;
}
h1 {
  font-size:28px;
  margin-bottom:30px;
}
.card {
  background:#1e293b;
  padding:30px;
  border-radius:14px;
}
.stat {
  margin-bottom:20px;
  font-size:14px;
  opacity:0.7;
}
.methodology {
  margin-top:30px;
  font-size:13px;
  opacity:0.6;
  line-height:1.6;
}
canvas {
  width:100% !important;
}
</style>
</head>
<body>

<div class="container">
  <h1>oil storage dynamics at kharg island export terminal</h1>

  <div class="card">
    <div class="stat" id="latest"></div>
    <canvas id="chart"></canvas>

    <div class="methodology">
      <p>1. weekly estimation of total crude oil stored across all major tanks located at kharg island export terminal.</p>
      <p>2. calculation is based on sentinel-1 synthetic aperture radar data (c-band), which is insensitive to cloud cover and weather conditions.</p>
      <p>3. radar backscatter intensity from floating tank roofs is used to estimate relative fill levels.</p>
      <p>4. tank geometry (diameter-based cylindrical volume assumption) is applied to convert estimated fill ratio into barrels.</p>
      <p>5. values represent modeled storage levels and should be interpreted as directional trend indicators rather than exact absolute inventories.</p>
      <p>6. external validation methodology and research reference: [insert research link here]</p>
    </div>
  </div>
</div>

<script>
async function loadData() {
  const res = await fetch("data.json");
  const data = await res.json();

  const values = data.values;
  const dates = data.dates;

  const latest = values[values.length - 1];

  document.getElementById("latest").innerText =
    "latest weekly estimated storage: " + 
    Math.round(latest).toLocaleString() + 
    " barrels";

  new Chart(document.getElementById("chart"), {
    type: "line",
    data: {
      labels: dates,
      datasets: [{
        label: "estimated barrels",
        data: values,
        borderColor: "#3b82f6",
        borderWidth: 2,
        pointRadius: 0
      }]
    },
    options: {
      responsive: true,
      interaction: { intersect: false, mode: 'index' },
      scales: {
        x: { ticks: { color: "#94a3b8" } },
        y: { 
          ticks: { 
            color: "#94a3b8",
            callback: function(value) {
              return (value / 1000000).toFixed(1) + "m";
            }
          }
        }
      },
      plugins: {
        legend: { labels: { color: "#e2e8f0" } }
      }
    }
  });
}

loadData();
</script>

</body>
</html>
